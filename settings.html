<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ØªÙ†Ø¸ÛŒÙ…Ø§Øª | NFT Ú¯Ù„Ú©Ø³ÛŒ</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./Main.css" />
  <style>
    /* small layout helpers for settings page */
    .settings-main { padding: 40px 60px; max-width: 980px; margin: 0 auto; }
    .settings-card { background: var(--nft-card-bg); border-radius: 12px; padding: 20px; border:1px solid var(--card-border); box-shadow: var(--card-elevation); }
    .settings-list { display:flex; flex-direction:column; gap:18px; }
    .settings-item { display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .settings-meta { text-align:right; }
    .settings-meta h4 { margin:0; color:var(--primary-color); }
    .settings-meta p { margin:0; color:var(--muted-text); font-size:13px; }
    .toast { position:fixed; left:50%; transform:translateX(-50%); bottom:28px; background:#181c20; color:var(--on-surface, #fff); padding:8px 14px; border-radius:8px; box-shadow:0 6px 20px rgba(0,0,0,0.5); opacity:0; pointer-events:none; transition:opacity .18s; z-index:9999 }
    .toast.show { opacity:1; pointer-events:auto }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <nav class="navbar">
      <div class="logo">
        <a href="./index.html"><img src="./Style/Asset/Image/ChatGPT Image Nov 16, 2025, 07_49_32 PM.png" alt="Ù„ÙˆÚ¯Ùˆ" /></a>
        <h1 class="brand-name">NFT <span>Ú¯Ù„Ú©Ø³ÛŒ</span></h1>
      </div>

      <ul class="nav-links">
        <li><a href="./index.html">Ø®Ø§Ù†Ù‡</a></li>
        <li><a href="./marketplace.html">Ø¨Ø§Ø²Ø§Ø±</a></li>
        <li><a href="./create.html">Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§</a></li>
        <li><a href="./profile.html">Ù¾Ø±ÙˆÙØ§ÛŒÙ„</a></li>
        <li><a href="./About Us.html">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
        <li><a href="./settings.html" class="active-link">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</a></li>
      </ul>

      <div class="wallet-menu">
        <button id="connectWallet" class="wallet-btn">Ø§ØªØµØ§Ù„ Ú©ÛŒÙ Ù¾ÙˆÙ„</button>
      </div>
    </nav>
  </header>

  <main class="settings-main">
    <section class="settings-card">
      <h2>ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø´Ù…Ø§</h2>
      <p class="profile-subtitle">Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø±ÙØªØ§Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯ØªØ§Ù† Ø´Ø®ØµÛŒâ€ŒØ³Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯. ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø§ Ù‡Ø± Ú©Ù„ÛŒÚ© Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</p>

      <div class="settings-list">
        <!-- Notifications -->
        <div class="settings-item">
          <div class="settings-meta">
            <h4>Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§</h4>
            <p>Ø¯Ø±ÛŒØ§ÙØª Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ùˆ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§</p>
          </div>

          <label class="md-switch">
            <input type="checkbox" role="switch" data-setting="notifications" aria-checked="false">
            <span class="switch-track"><span class="switch-thumb"></span></span>
          </label>
        </div>

        <!-- Dark Mode -->
        <div class="settings-item">
          <div class="settings-meta">
            <h4>Ø­Ø§Ù„Øª ØªÛŒØ±Ù‡</h4>
            <p>Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªÙ… ØªÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ§Ù†Ø§ÛŒÛŒ Ø¨Ù‡ØªØ± Ø¯Ø± Ø´Ø¨</p>
          </div>

          <label class="md-switch">
            <input type="checkbox" role="switch" data-setting="darkMode" aria-checked="false">
            <span class="switch-track"><span class="switch-thumb"></span></span>
          </label>
        </div>

        <!-- Auto-play previews -->
        <div class="settings-item">
          <div class="settings-meta">
            <h4>Ù¾Ø®Ø´ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´â€ŒÙ‡Ø§</h4>
            <p>Ù¾Ø®Ø´ Ú©ÙˆØªØ§Ù‡ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´â€ŒÙ‡Ø§ Ù‡Ù†Ú¯Ø§Ù… Ù…Ø±ÙˆØ± NFTÙ‡Ø§</p>
          </div>

          <label class="md-switch">
            <input type="checkbox" role="switch" data-setting="autoPlay" aria-checked="false">
            <span class="switch-track"><span class="switch-thumb"></span></span>
          </label>
        </div>

        <!-- Disabled example -->
        <div class="settings-item">
          <div class="settings-meta">
            <h4>Ù†Ù…Ø§ÛŒØ´ Ù…Ø­ØªÙˆØ§ÛŒ Ø­Ø³Ø§Ø³</h4>
            <p>Ù†Ù…Ø§ÛŒØ´ ÛŒØ§ Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ù…Ø­ØªÙˆØ§ÛŒ Ø­Ø³Ø§Ø³ (Ø§ÛŒÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ù…ÙˆÙ‚ØªØ§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª)</p>
          </div>

          <label class="md-switch disabled">
            <input type="checkbox" role="switch" data-setting="sensitive" aria-checked="false" disabled>
            <span class="switch-track"><span class="switch-thumb"></span></span>
          </label>
        </div>

      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // Settings switches: persist in localStorage, apply immediately
    (function(){
      const STORAGE_KEY = 'nftg_settings_v1';

      function loadSettings(){
        try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); }
        catch(e){ return {}; }
      }

      function saveSettings(obj){ localStorage.setItem(STORAGE_KEY, JSON.stringify(obj)); }

      function showToast(msg){
        const t = document.getElementById('toast');
        t.textContent = msg; t.classList.add('show');
        clearTimeout(t._t); t._t = setTimeout(()=> t.classList.remove('show'), 2200);
      }

      function applySetting(key, value){
        // immediate actions for demo
        if(key === 'notifications'){
          showToast(value ? 'âœ… Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ ÙØ¹Ø§Ù„ Ø´Ø¯' : 'ğŸ”• Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯');
        }
        if(key === 'autoPlay'){
          showToast(value ? 'â–¶ï¸ Ù¾Ø®Ø´ Ø®ÙˆØ¯Ú©Ø§Ø± ÙØ¹Ø§Ù„ Ø´Ø¯' : 'â¸ï¸ Ù¾Ø®Ø´ Ø®ÙˆØ¯Ú©Ø§Ø± ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯');
        }
        if(key === 'darkMode'){
          // delegate to global theme applier so tokens are consistent across pages
          if(window.NFTG_Settings && typeof window.NFTG_Settings.applyThemeTokens === 'function'){
            window.NFTG_Settings.applyThemeTokens(!!value);
          }
          showToast(value ? 'ğŸŒ™ Ø­Ø§Ù„Øª ØªÛŒØ±Ù‡ ÙØ¹Ø§Ù„ Ø´Ø¯' : 'ğŸŒ¤ï¸ Ø­Ø§Ù„Øª Ø±ÙˆØ´Ù† ÙØ¹Ø§Ù„ Ø´Ø¯');
        }
      }

      // initialize inputs
      const settings = loadSettings();
      document.querySelectorAll('.md-switch input[type="checkbox"]').forEach(input=>{
        const key = input.dataset.setting;
        // set initial checked state from storage
        if(key && settings.hasOwnProperty(key)){
          input.checked = !!settings[key];
        }
        input.setAttribute('aria-checked', input.checked ? 'true' : 'false');

        input.addEventListener('change', e=>{
          const val = !!input.checked;
          input.setAttribute('aria-checked', val ? 'true' : 'false');
          if(key){
            settings[key] = val; saveSettings(settings); applySetting(key, val);
          }
        });
      });

      // apply any initial settings after load
      Object.keys(settings).forEach(k => applySetting(k, settings[k]));
      // ensure global theme tokens are applied as well
      if(window.NFTG_Settings && typeof window.NFTG_Settings.applyThemeTokens === 'function'){
        window.NFTG_Settings.applyThemeTokens(!!settings.darkMode);
      }
    })();
  </script>
  <script src="./Style/components/settings.js"></script>
  <script src="./Backend/Wallet connect.js"></script>

</body>
</html>
